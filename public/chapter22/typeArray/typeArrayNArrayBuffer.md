## 타입 배열과 배열 버퍼
- 자바스크립트에서 배열(Array)는 숫자 프로퍼티와 length 프로퍼티가 존재하는 범용 객체!
- 배열의 원소로는 자바스크립트의 어떠한 값도 사용 가능
- 배열은 동적으로 크기가 커지거나 작아질 수 있음.
- 원소가 드문드문 존재할 수도 있어!
- JS Array Object는 해당 구현체들이 자체적으로 매우 많은 최적화 수행 => 속도 빠름.

### 타입배열
- 원소는 모두 숫자
- 생성자에 숫자의 타입(부호가 있거나 없는 정수 또는 부동 소수점)과 크기(비트단위)를 사용하여 타입 배열생성
- 타입배열은 길이가 고정
- 배열이 생성된 시점에 타입 배열의 원소들은 항상 0으로 초기화
- 타입 배열의 종류 8가지(원소의 타입은 각기 다르다)
```
Int8Array() : 부호있는 바이트
Uint8Array() : 부호없는 바이트
Int16Array() : 부호있는 작은 16비트 정수
Uint16Array() : 부호없는 작은 16비트 정수
Int32Array() : 부호있는 32비트 정수
Uint32Array() : 부호없는 32비트 정수
Float32Array() : 32비트 부동 소수점 값
Float64Array() : 64비트 부동 소수점 값(정규 자바스크립트 숫자형)
```
- 현대 자바스크립트 구현체들은 배열을 매우 효율적으로 최적화시킴
- 그럼에도 불구하고 타입 배열은 실행시간과 메모리 사용 측면 모두 심지어 더 효율적!!!

```
    /*
    * '에라토스테제스의 체'알고리즘 사용
    * n보다 더 작은 수 중 가장 큰 소수 반환
    * */
    function sieve(n) {
        if (n < 2) throw '입력값은 최소 2이상이어야한다.!!!(소수의 min값: 2)';
        var a = new Int8Array(n+1); // x가 합성수이면 a[x]는 1이다.
        var max = Math.floor(Math.sqrt(n)); // 이 수보다 큰 수는 고려하지 않는다.
        var p = 2; // 2는 가장 작은 첫번째 소수
        while(p <= max) {
            for (var i=2*p; i <= n; i+= p) {
                a[i] = 1;
                while(a[++p]){ /* empty */ } /*표시되지 않은 다음 인덱스는 소수다*/
            }
        }
        while(a[n]) n--; // 배열을 거꾸로 탐색하여 마지막 소수를 찾는다.

        return n;
    }
```
- 위의 예제는 Int8Array() 생성자를 일반 Array()생성자로 대체해도 잘 동작하지만, 연산속도는 2~3배 가량 느려질꺼야.

#### 타입배열과 <canvas>
- <canvas>요소에서 WebGL 3D 그래픽 API의 가장 중요한 부분
- 브라우저에는 WebGL의 일부로 구현된 타입배열이 존재
- Canvas API getImageData() : ImageData를 반환하는 메서드  
ImageData의 data프로퍼티는 바이트의 배열  
HTML 표준에서는 CanvasPixelArray라고 부르지만, 0~255를 벗어나는 값을 처리하는 부분을 제외하고는  
Uint8Array와 본질적으로 동일한 배열.
